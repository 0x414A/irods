Finishing the iRODS setup
------------------------------------------------------------------------
Tue Jan 10 13:45:45 2012

Script:
    Script:  ./scripts/perl/finishSetup.pl
    CWD:  /home/jasonc/dev/irods/Clean3.0/iRODS

Perl:
    Perl path:  /usr/bin/perl
    Perl version:  5.012004

System:
    OS:  Linux
    User:  jasonc
    User ID:  1000
    Host name:  Fermat.renci.org
    Host addresses:  152.54.8.142 127.0.0.1 

Environment:  
    UBUNTU_MENUPROXY = libappmenu.so
    PGUSER = jasonc
    COLORFGBG = 15;0
    MANDATORY_PATH = /usr/share/gconf/default.mandatory.path
    SSH_AUTH_SOCK = /tmp/ssh-hivvEtvG1576/agent.1576
    LESSOPEN = | /usr/bin/lesspipe %s
    QT_PLUGIN_PATH = /home/jasonc/.kde/lib/kde4/plugins/:/usr/lib/kde4/plugins/
    PWD = /home/jasonc/dev/irods/Clean3.0/iRODS
    QT_GRAPHICSSYSTEM = raster
    LANG = en_US.UTF-8
    USER = jasonc
    XDG_CONFIG_DIRS = /etc/xdg/xdg-default:/etc/xdg
    LOGNAME = jasonc
    LESSCLOSE = /usr/bin/lesspipe %s %s
    SHLVL = 1
    XDG_SESSION_COOKIE = 6ef97b64951994055cf243ec00000006-1325791995.767979-2089383150
    PGDATA = /home/jasonc/dev/irods/Clean3.0/database/pgsql/data
    PATH = .:/home/jasonc/dev/irods/Clean3.0/iRODS/clients/icommands/bin:/home/jasonc/dev/irods/Clean3.0/database/pgsql/bin:.:/home/jasonc/dev/irods/Clean3.0/iRODS/clients/icommands/bin:/home/jasonc/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
    WINDOWID = 92274924
    GTK_MODULES = canberra-gtk-module:canberra-gtk-module
    TERM = xterm
    DM_CONTROL = /var/run/xdmctl
    KONSOLE_DBUS_SESSION = /Sessions/3
    SHELL_SESSION_ID = 50ece288a5ef40008e7fb6a50361199c
    HOME = /home/jasonc
    DBUS_SESSION_BUS_ADDRESS = unix:abstract=/tmp/dbus-mD2IBwd0Xi,guid=0dfc06d735d04e28bb4cdd0c00000055
    LANGUAGE = 
    SSH_AGENT_PID = 1622
    LD_LIBRARY_PATH = /home/jasonc/dev/irods/Clean3.0/database/pgsql/lib:/usr/local/lib:/usr/local/lib
    WINDOWPATH = 7
    DISPLAY = :0
    GTK_RC_FILES = /etc/gtk/gtkrc:/home/jasonc/.gtkrc:/home/jasonc/.kde/share/config/gtkrc
    XDM_MANAGED = method=classic
    KDE_SESSION_UID = 1000
    PROFILEHOME = 
    GTK2_RC_FILES = /etc/gtk-2.0/gtkrc:/home/jasonc/.gtkrc-2.0:/home/jasonc/.gtkrc-2.0-kde4:/home/jasonc/.kde/share/config/gtkrc-2.0
    DEFAULTS_PATH = /usr/share/gconf/default.default.path
    KDE_SESSION_VERSION = 4
    XCURSOR_THEME = default
    GS_LIB = /home/jasonc/.fonts
    OLDPWD = /home/jasonc/dev/irods/Clean3.0/iRODS
    XDG_DATA_DIRS = /usr/share/default:/usr/local/share/:/usr/share/
    PGPASSWORD = rods
    DESKTOP_SESSION = default
    _ = ./irodssetup
    LS_COLORS = rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lz=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:
    SHELL = /bin/bash
    KDE_FULL_SESSION = true
    PGPORT = 5432
    GPG_AGENT_INFO = /tmp/gpg-L6sfeC/S.gpg-agent:1623:1
    SESSION_MANAGER = local/Fermat:@/tmp/.ICE-unix/1769,unix/Fermat:/tmp/.ICE-unix/1769
    KONSOLE_DBUS_SERVICE = :1.87
    KDE_MULTIHEAD = false

Script versions:
    utils_platform.pl = September 2011
    utils_print.pl = March 2010
    utils_paths.pl = September 2011
    finishSetup.pl = Oct 2010
    utils_config.pl = September 2011
    utils_file.pl = September 2011

Preparing to initialize...
------------------------------------------------------------------------
Tue Jan 10 13:45:45 2012

Stopping iRODS server...
    Skipped.  Server already stopped.

Starting database server...

Configuring database user...
------------------------------------------------------------------------
Tue Jan 10 13:45:53 2012

Updating user's .pgpass...
    Skipped.  File already uptodate.

Creating database and tables...
------------------------------------------------------------------------
Tue Jan 10 13:45:53 2012


Checking whether iCAT database exist...

    Creating iCAT database...

Updating Postgres UNIX ODBC odbc.ini configuration
Updating user's .odbc.ini...
Setting database user password...
    alter user "jasonc" with password 'rods';
    alter user jasonc set client_encoding to LATIN1;
Creating iCAT tables...
    List of existing tables (if any):
        No relations found.
    Converting zone name in icatSysInserts.sql
    Converting SQL to postgres form.
    Inserting ICAT tables...
    icatCoreTables.sql...
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
    icatSysTables.sql...
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE TABLE
        CREATE SEQUENCE
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
        CREATE INDEX
    icatCoreInserts.sql...
        INSERT 0 1
    icatSysInserts.sql...
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1
        INSERT 0 1

Configuring database security...
------------------------------------------------------------------------
Tue Jan 10 13:46:02 2012

Updating Postgres pg_hba.conf...
    Removing old pg_hba.conf...
    Replacing with new pg_hba.conf...

Testing database communications with test_cll...
    LOG_SQL: pid: 23204 sql: begin
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: create table test (i integer, j integer, a varchar(32))
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: insert into test values (2, 3, 'a')
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: commit
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: begin
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: bad sql
    LOG_SQL: pid: 23204 result: SQL_ERROR
    LOG_SQL: pid: 23204 sql: rollback
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: begin
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: delete from test where i = 1
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: commit
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: SQLPrepare
    LOG_SQL: pid: 23204 sql: bindVar1=a
    LOG_SQL: pid: 23204 sql: select * from test where a = ?
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: SQLPrepare
    LOG_SQL: pid: 23204 sql: bindVar1=2
    LOG_SQL: pid: 23204 sql: select * from test where i = ?
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: begin
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: drop table test;
    LOG_SQL: pid: 23204 result: SUCCESS
    LOG_SQL: pid: 23204 sql: commit
    LOG_SQL: pid: 23204 result: SUCCESS
    userName=jasonc
    password=rods
    resultValue[0]=2
    resultValue[1]=3
    resultValue[2]=a
    No more rows returned
    resultValue[0]=2
    resultValue[1]=3
    resultValue[2]=a
    No more rows returned
    The tests all completed normally

Configuring iRODS server...
------------------------------------------------------------------------
Tue Jan 10 13:46:21 2012

Updating iRODS server.config...
    Getting scrambled admin password...
    Updating server.config....
        icatHost   = Fermat.renci.org
        DBKey      = 123
        DBUsername = jasonc
        DBPassword = $qp+

Updating iRODS irodsEnv.boot...
    irodsAuthFileName = /home/jasonc/dev/irods/Clean3.0/iRODS/config/auth.tmp

Starting iRODS server with boot environment...
    Setting irodsEnvFile to /home/jasonc/dev/irods/Clean3.0/iRODS/config/irodsEnv.boot
    # This is used by install.pl as the .irodsEnv file when using the admin
    # account created in the RODS database (via rcatSysInserts.sql).
    irodsHost 'localhost'
    irodsPort 1233
    irodsUserName 'rodsBoot'
    irodsZone tempZone
    irodsAuthFileName /home/jasonc/dev/irods/Clean3.0/iRODS/config/auth.tmp

Opening iRODS connection using boot password...

Creating iRODS directories...
    Create /tempZone...
    Create /tempZone/home...
    Create /tempZone/trash...
    Create /tempZone/trash/home...

Creating iRODS group 'public'...

Creating iRODS user account...

Setting iRODS directory ownership...
    chown /
    chown /tempZone...
    chown /tempZone/home...
    chown /tempZone/trash...
    chown /tempZone/trash/home...

Setting iRODS user password...

Setting iRODS boot password...

Stopping iRODS server...

Configuring iRODS user and starting server...
------------------------------------------------------------------------
Tue Jan 10 13:46:26 2012

Updating iRODS user's ~/.irods/.irodsEnv...
    move /home/jasonc/.irods/.irodsEnv /home/jasonc/.irods/.irodsEnv.orig

Starting iRODS server...

Opening iRODS connection...

Creating default resource...

Testing resource...

Done.
Tue Jan 10 13:46:30 2012
