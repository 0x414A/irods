running: ienv | grep irodsZone | tail -1 
running: ls > foo1 
running: ls > foo1234 
running: irm -fr d1 
ERROR: rmUtil: srcPath /tempZone/home/rods/d1 does not exist
running: imkdir d1 
running: imkdir d1/d234 
running: imkdir d1/d234/testdir3 
running: iput foo1234 d1/d234/testdir3 
running: irm -fr t2 
ERROR: rmUtil: srcPath /tempZone/home/rods/t2 does not exist
running: imkdir t2 
running: irm -f foo1234 
ERROR: rmUtil: srcPath /tempZone/home/rods/foo1234 does not exist
running: irm -f foo_abcdefg 
ERROR: rmUtil: srcPath /tempZone/home/rods/foo_abcdefg does not exist
running: test_chl sql "select coll_id from R_COLL_MAIN where coll_name = ?" /tempZone/home/rods/d1/d234 1 | grep -v NOTICE | grep -v Completed 
LOG_SQL: chlOpen
LOG_SQL: chlSimpleQuery
LOG_SQL: chlSimpleQuery SQL 17
LOG_SQL: pid: 16935 sql: SQLPrepare
LOG_SQL: pid: 16935 sql: bindVar1=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16935 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16935 result: SUCCESS
res:12100 
running: test_chl rename 12100  d123567 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar1=12100
LOG_SQL: pid: 16939 sql: bindVar2=rods
LOG_SQL: pid: 16939 sql: bindVar3=tempZone
LOG_SQL: pid: 16939 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar1=12100
LOG_SQL: pid: 16939 sql: bindVar2=rods
LOG_SQL: pid: 16939 sql: bindVar3=tempZone
LOG_SQL: pid: 16939 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 7
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar1=d123567
LOG_SQL: pid: 16939 sql: bindVar2=/tempZone/home/rods/d1
LOG_SQL: pid: 16939 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id= (select coll_id from R_COLL_MAIN  where coll_name = ?)
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 8
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar1=/tempZone/home/rods/d1/d123567
LOG_SQL: pid: 16939 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 9
LOG_SQL: pid: 16939 sql: begin
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar[1]=22
LOG_SQL: pid: 16939 sql: bindVar[2]=/d123567
LOG_SQL: pid: 16939 sql: bindVar[3]=28
LOG_SQL: pid: 16939 sql: bindVar[4]=28
LOG_SQL: pid: 16939 sql: bindVar[5]=/tempZone/home/rods/d1/d234/
LOG_SQL: pid: 16939 sql: bindVar[6]=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16939 sql: update R_COLL_MAIN set coll_name = substr(coll_name,1,?) || ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 10
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar[1]=22
LOG_SQL: pid: 16939 sql: bindVar[2]=/d123567
LOG_SQL: pid: 16939 sql: bindVar[3]=28
LOG_SQL: pid: 16939 sql: bindVar[4]=28
LOG_SQL: pid: 16939 sql: bindVar[5]=/tempZone/home/rods/d1/d234/
LOG_SQL: pid: 16939 sql: bindVar[6]=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16939 sql: update R_COLL_MAIN set parent_coll_name = substr(parent_coll_name,1,?) || ? || substr(parent_coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlRenameObject SQL 11
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar[1]=/tempZone/home/rods/d1/d123567
LOG_SQL: pid: 16939 sql: bindVar[2]=01326310449
LOG_SQL: pid: 16939 sql: bindVar[3]=12100
LOG_SQL: pid: 16939 sql: update R_COLL_MAIN set coll_name=?, modify_ts=? where coll_id=?
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16939 sql: SQLPrepare
LOG_SQL: pid: 16939 sql: bindVar[1]=12100
LOG_SQL: pid: 16939 sql: bindVar[2]=rods
LOG_SQL: pid: 16939 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16939 sql: bindVar[4]=2131
LOG_SQL: pid: 16939 sql: bindVar[5]=d123567
LOG_SQL: pid: 16939 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16939 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16939 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16939 sql: commit
LOG_SQL: pid: 16939 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16939 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16939 result: SQL_ERROR
running: test_chl rename 12100  abc 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar1=12100
LOG_SQL: pid: 16941 sql: bindVar2=rods
LOG_SQL: pid: 16941 sql: bindVar3=tempZone
LOG_SQL: pid: 16941 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar1=12100
LOG_SQL: pid: 16941 sql: bindVar2=rods
LOG_SQL: pid: 16941 sql: bindVar3=tempZone
LOG_SQL: pid: 16941 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 7
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar1=abc
LOG_SQL: pid: 16941 sql: bindVar2=/tempZone/home/rods/d1
LOG_SQL: pid: 16941 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id= (select coll_id from R_COLL_MAIN  where coll_name = ?)
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 8
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar1=/tempZone/home/rods/d1/abc
LOG_SQL: pid: 16941 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 9
LOG_SQL: pid: 16941 sql: begin
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar[1]=22
LOG_SQL: pid: 16941 sql: bindVar[2]=/abc
LOG_SQL: pid: 16941 sql: bindVar[3]=31
LOG_SQL: pid: 16941 sql: bindVar[4]=31
LOG_SQL: pid: 16941 sql: bindVar[5]=/tempZone/home/rods/d1/d123567/
LOG_SQL: pid: 16941 sql: bindVar[6]=/tempZone/home/rods/d1/d123567
LOG_SQL: pid: 16941 sql: update R_COLL_MAIN set coll_name = substr(coll_name,1,?) || ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 10
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar[1]=22
LOG_SQL: pid: 16941 sql: bindVar[2]=/abc
LOG_SQL: pid: 16941 sql: bindVar[3]=31
LOG_SQL: pid: 16941 sql: bindVar[4]=31
LOG_SQL: pid: 16941 sql: bindVar[5]=/tempZone/home/rods/d1/d123567/
LOG_SQL: pid: 16941 sql: bindVar[6]=/tempZone/home/rods/d1/d123567
LOG_SQL: pid: 16941 sql: update R_COLL_MAIN set parent_coll_name = substr(parent_coll_name,1,?) || ? || substr(parent_coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlRenameObject SQL 11
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar[1]=/tempZone/home/rods/d1/abc
LOG_SQL: pid: 16941 sql: bindVar[2]=01326310449
LOG_SQL: pid: 16941 sql: bindVar[3]=12100
LOG_SQL: pid: 16941 sql: update R_COLL_MAIN set coll_name=?, modify_ts=? where coll_id=?
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16941 sql: SQLPrepare
LOG_SQL: pid: 16941 sql: bindVar[1]=12100
LOG_SQL: pid: 16941 sql: bindVar[2]=rods
LOG_SQL: pid: 16941 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16941 sql: bindVar[4]=2131
LOG_SQL: pid: 16941 sql: bindVar[5]=abc
LOG_SQL: pid: 16941 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16941 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16941 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16941 sql: commit
LOG_SQL: pid: 16941 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16941 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16941 result: SQL_ERROR
running: test_chl rename 12100  abc_asf 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar1=12100
LOG_SQL: pid: 16943 sql: bindVar2=rods
LOG_SQL: pid: 16943 sql: bindVar3=tempZone
LOG_SQL: pid: 16943 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar1=12100
LOG_SQL: pid: 16943 sql: bindVar2=rods
LOG_SQL: pid: 16943 sql: bindVar3=tempZone
LOG_SQL: pid: 16943 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 7
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar1=abc_asf
LOG_SQL: pid: 16943 sql: bindVar2=/tempZone/home/rods/d1
LOG_SQL: pid: 16943 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id= (select coll_id from R_COLL_MAIN  where coll_name = ?)
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 8
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar1=/tempZone/home/rods/d1/abc_asf
LOG_SQL: pid: 16943 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 9
LOG_SQL: pid: 16943 sql: begin
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar[1]=22
LOG_SQL: pid: 16943 sql: bindVar[2]=/abc_asf
LOG_SQL: pid: 16943 sql: bindVar[3]=27
LOG_SQL: pid: 16943 sql: bindVar[4]=27
LOG_SQL: pid: 16943 sql: bindVar[5]=/tempZone/home/rods/d1/abc/
LOG_SQL: pid: 16943 sql: bindVar[6]=/tempZone/home/rods/d1/abc
LOG_SQL: pid: 16943 sql: update R_COLL_MAIN set coll_name = substr(coll_name,1,?) || ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 10
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar[1]=22
LOG_SQL: pid: 16943 sql: bindVar[2]=/abc_asf
LOG_SQL: pid: 16943 sql: bindVar[3]=27
LOG_SQL: pid: 16943 sql: bindVar[4]=27
LOG_SQL: pid: 16943 sql: bindVar[5]=/tempZone/home/rods/d1/abc/
LOG_SQL: pid: 16943 sql: bindVar[6]=/tempZone/home/rods/d1/abc
LOG_SQL: pid: 16943 sql: update R_COLL_MAIN set parent_coll_name = substr(parent_coll_name,1,?) || ? || substr(parent_coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlRenameObject SQL 11
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar[1]=/tempZone/home/rods/d1/abc_asf
LOG_SQL: pid: 16943 sql: bindVar[2]=01326310449
LOG_SQL: pid: 16943 sql: bindVar[3]=12100
LOG_SQL: pid: 16943 sql: update R_COLL_MAIN set coll_name=?, modify_ts=? where coll_id=?
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16943 sql: SQLPrepare
LOG_SQL: pid: 16943 sql: bindVar[1]=12100
LOG_SQL: pid: 16943 sql: bindVar[2]=rods
LOG_SQL: pid: 16943 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16943 sql: bindVar[4]=2131
LOG_SQL: pid: 16943 sql: bindVar[5]=abc_asf
LOG_SQL: pid: 16943 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16943 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16943 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16943 sql: commit
LOG_SQL: pid: 16943 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16943 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16943 result: SQL_ERROR
running: test_chl rename 12100  123 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar1=12100
LOG_SQL: pid: 16945 sql: bindVar2=rods
LOG_SQL: pid: 16945 sql: bindVar3=tempZone
LOG_SQL: pid: 16945 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar1=12100
LOG_SQL: pid: 16945 sql: bindVar2=rods
LOG_SQL: pid: 16945 sql: bindVar3=tempZone
LOG_SQL: pid: 16945 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 7
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar1=123
LOG_SQL: pid: 16945 sql: bindVar2=/tempZone/home/rods/d1
LOG_SQL: pid: 16945 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id= (select coll_id from R_COLL_MAIN  where coll_name = ?)
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 8
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar1=/tempZone/home/rods/d1/123
LOG_SQL: pid: 16945 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 9
LOG_SQL: pid: 16945 sql: begin
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar[1]=22
LOG_SQL: pid: 16945 sql: bindVar[2]=/123
LOG_SQL: pid: 16945 sql: bindVar[3]=31
LOG_SQL: pid: 16945 sql: bindVar[4]=31
LOG_SQL: pid: 16945 sql: bindVar[5]=/tempZone/home/rods/d1/abc_asf/
LOG_SQL: pid: 16945 sql: bindVar[6]=/tempZone/home/rods/d1/abc_asf
LOG_SQL: pid: 16945 sql: update R_COLL_MAIN set coll_name = substr(coll_name,1,?) || ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 10
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar[1]=22
LOG_SQL: pid: 16945 sql: bindVar[2]=/123
LOG_SQL: pid: 16945 sql: bindVar[3]=31
LOG_SQL: pid: 16945 sql: bindVar[4]=31
LOG_SQL: pid: 16945 sql: bindVar[5]=/tempZone/home/rods/d1/abc_asf/
LOG_SQL: pid: 16945 sql: bindVar[6]=/tempZone/home/rods/d1/abc_asf
LOG_SQL: pid: 16945 sql: update R_COLL_MAIN set parent_coll_name = substr(parent_coll_name,1,?) || ? || substr(parent_coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlRenameObject SQL 11
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar[1]=/tempZone/home/rods/d1/123
LOG_SQL: pid: 16945 sql: bindVar[2]=01326310449
LOG_SQL: pid: 16945 sql: bindVar[3]=12100
LOG_SQL: pid: 16945 sql: update R_COLL_MAIN set coll_name=?, modify_ts=? where coll_id=?
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16945 sql: SQLPrepare
LOG_SQL: pid: 16945 sql: bindVar[1]=12100
LOG_SQL: pid: 16945 sql: bindVar[2]=rods
LOG_SQL: pid: 16945 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16945 sql: bindVar[4]=2131
LOG_SQL: pid: 16945 sql: bindVar[5]=123
LOG_SQL: pid: 16945 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16945 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16945 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16945 sql: commit
LOG_SQL: pid: 16945 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16945 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16945 result: SQL_ERROR
running: test_chl rename 12100  d234 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar1=12100
LOG_SQL: pid: 16947 sql: bindVar2=rods
LOG_SQL: pid: 16947 sql: bindVar3=tempZone
LOG_SQL: pid: 16947 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar1=12100
LOG_SQL: pid: 16947 sql: bindVar2=rods
LOG_SQL: pid: 16947 sql: bindVar3=tempZone
LOG_SQL: pid: 16947 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 7
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar1=d234
LOG_SQL: pid: 16947 sql: bindVar2=/tempZone/home/rods/d1
LOG_SQL: pid: 16947 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id= (select coll_id from R_COLL_MAIN  where coll_name = ?)
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 8
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar1=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16947 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 9
LOG_SQL: pid: 16947 sql: begin
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar[1]=22
LOG_SQL: pid: 16947 sql: bindVar[2]=/d234
LOG_SQL: pid: 16947 sql: bindVar[3]=27
LOG_SQL: pid: 16947 sql: bindVar[4]=27
LOG_SQL: pid: 16947 sql: bindVar[5]=/tempZone/home/rods/d1/123/
LOG_SQL: pid: 16947 sql: bindVar[6]=/tempZone/home/rods/d1/123
LOG_SQL: pid: 16947 sql: update R_COLL_MAIN set coll_name = substr(coll_name,1,?) || ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 10
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar[1]=22
LOG_SQL: pid: 16947 sql: bindVar[2]=/d234
LOG_SQL: pid: 16947 sql: bindVar[3]=27
LOG_SQL: pid: 16947 sql: bindVar[4]=27
LOG_SQL: pid: 16947 sql: bindVar[5]=/tempZone/home/rods/d1/123/
LOG_SQL: pid: 16947 sql: bindVar[6]=/tempZone/home/rods/d1/123
LOG_SQL: pid: 16947 sql: update R_COLL_MAIN set parent_coll_name = substr(parent_coll_name,1,?) || ? || substr(parent_coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name  = ?
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlRenameObject SQL 11
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar[1]=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16947 sql: bindVar[2]=01326310449
LOG_SQL: pid: 16947 sql: bindVar[3]=12100
LOG_SQL: pid: 16947 sql: update R_COLL_MAIN set coll_name=?, modify_ts=? where coll_id=?
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16947 sql: SQLPrepare
LOG_SQL: pid: 16947 sql: bindVar[1]=12100
LOG_SQL: pid: 16947 sql: bindVar[2]=rods
LOG_SQL: pid: 16947 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16947 sql: bindVar[4]=2131
LOG_SQL: pid: 16947 sql: bindVar[5]=d234
LOG_SQL: pid: 16947 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16947 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16947 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16947 sql: commit
LOG_SQL: pid: 16947 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16947 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16947 result: SQL_ERROR
running: ils d1 
/tempZone/home/rods/d1:
  C- /tempZone/home/rods/d1/d234
running: test_chl sql "select coll_id from R_COLL_MAIN where coll_name = ?" /tempZone/home/rods/t2 1 | grep -v NOTICE | grep -v Completed 
LOG_SQL: chlOpen
LOG_SQL: chlSimpleQuery
LOG_SQL: chlSimpleQuery SQL 17
LOG_SQL: pid: 16953 sql: SQLPrepare
LOG_SQL: pid: 16953 sql: bindVar1=/tempZone/home/rods/t2
LOG_SQL: pid: 16953 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16953 result: SUCCESS
res:12103 
running: ils -r 
/tempZone/home/rods:
  C- /tempZone/home/rods/d1
/tempZone/home/rods/d1:
  C- /tempZone/home/rods/d1/d234
/tempZone/home/rods/d1/d234:
  C- /tempZone/home/rods/d1/d234/testdir3
/tempZone/home/rods/d1/d234/testdir3:
  foo1234
  C- /tempZone/home/rods/t2
/tempZone/home/rods/t2:
running: test_chl move 12100  12103  
LOG_SQL: chlOpen
LOG_SQL: chlMoveObject
LOG_SQL: chlMoveObject SQL 1 
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar1=12103
LOG_SQL: pid: 16960 sql: bindVar2=rods
LOG_SQL: pid: 16960 sql: bindVar3=tempZone
LOG_SQL: pid: 16960 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 3
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar1=12100
LOG_SQL: pid: 16960 sql: bindVar2=rods
LOG_SQL: pid: 16960 sql: bindVar3=tempZone
LOG_SQL: pid: 16960 sql: select data_name from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 8
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar1=12100
LOG_SQL: pid: 16960 sql: bindVar2=rods
LOG_SQL: pid: 16960 sql: bindVar3=tempZone
LOG_SQL: pid: 16960 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 9
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar1=d234
LOG_SQL: pid: 16960 sql: bindVar2=12103
LOG_SQL: pid: 16960 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 10
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar1=/tempZone/home/rods/t2/d234
LOG_SQL: pid: 16960 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 11
LOG_SQL: pid: 16960 sql: begin
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar[1]=/tempZone/home/rods/t2/d234
LOG_SQL: pid: 16960 sql: bindVar[2]=/tempZone/home/rods/t2
LOG_SQL: pid: 16960 sql: bindVar[3]=12100
LOG_SQL: pid: 16960 sql: update R_COLL_MAIN set coll_name = ?, parent_coll_name=? where coll_id = ?
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlMoveObject SQL 12
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar[1]=/tempZone/home/rods/t2/d234
LOG_SQL: pid: 16960 sql: bindVar[2]=28
LOG_SQL: pid: 16960 sql: bindVar[3]=/tempZone/home/rods/t2/d234
LOG_SQL: pid: 16960 sql: bindVar[4]=28
LOG_SQL: pid: 16960 sql: bindVar[5]=28
LOG_SQL: pid: 16960 sql: bindVar[6]=/tempZone/home/rods/d1/d234/
LOG_SQL: pid: 16960 sql: bindVar[7]=/tempZone/home/rods/d1/d234
LOG_SQL: pid: 16960 sql: update R_COLL_MAIN set parent_coll_name = ? || substr(parent_coll_name, ?), coll_name = ? || substr(coll_name, ?) where substr(parent_coll_name,1,?) = ? or parent_coll_name = ?
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16960 sql: SQLPrepare
LOG_SQL: pid: 16960 sql: bindVar[1]=12100
LOG_SQL: pid: 16960 sql: bindVar[2]=rods
LOG_SQL: pid: 16960 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16960 sql: bindVar[4]=2141
LOG_SQL: pid: 16960 sql: bindVar[5]=/tempZone/home/rods/t2
LOG_SQL: pid: 16960 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16960 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16960 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16960 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16960 sql: commit
LOG_SQL: pid: 16960 result: SUCCESS
running: ils -r 
/tempZone/home/rods:
  C- /tempZone/home/rods/d1
/tempZone/home/rods/d1:
  C- /tempZone/home/rods/t2
/tempZone/home/rods/t2:
  C- /tempZone/home/rods/t2/d234
/tempZone/home/rods/t2/d234:
  C- /tempZone/home/rods/t2/d234/testdir3
/tempZone/home/rods/t2/d234/testdir3:
  foo1234
running: iget t2/d234/testdir3/foo1234 foo1234b 
running: diff foo1234 foo1234b 
running: test_chl sql "select coll_id from R_COLL_MAIN where coll_name = ?" /tempZone/home/rods 1 | grep -v NOTICE | grep -v Completed 
LOG_SQL: chlOpen
LOG_SQL: chlSimpleQuery
LOG_SQL: chlSimpleQuery SQL 17
LOG_SQL: pid: 16970 sql: SQLPrepare
LOG_SQL: pid: 16970 sql: bindVar1=/tempZone/home/rods
LOG_SQL: pid: 16970 sql: select coll_id from R_COLL_MAIN where coll_name = ?
LOG_SQL: pid: 16970 result: SUCCESS
res:10008 
running: iadmin ls /tempZone/home/rods/t2/d234/testdir3 | grep foo 
res:foo1234 12102 0 
dataObj=12102
running: test_chl rename 12102 123456 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar1=12102
LOG_SQL: pid: 16979 sql: bindVar2=rods
LOG_SQL: pid: 16979 sql: bindVar3=tempZone
LOG_SQL: pid: 16979 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar1=123456
LOG_SQL: pid: 16979 sql: bindVar2=12101
LOG_SQL: pid: 16979 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar1=12101
LOG_SQL: pid: 16979 sql: bindVar2=/123456
LOG_SQL: pid: 16979 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 16979 sql: begin
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar[1]=123456
LOG_SQL: pid: 16979 sql: bindVar[2]=12102
LOG_SQL: pid: 16979 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16979 sql: bindVar[2]=12101
LOG_SQL: pid: 16979 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16979 sql: SQLPrepare
LOG_SQL: pid: 16979 sql: bindVar[1]=12102
LOG_SQL: pid: 16979 sql: bindVar[2]=rods
LOG_SQL: pid: 16979 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16979 sql: bindVar[4]=2130
LOG_SQL: pid: 16979 sql: bindVar[5]=123456
LOG_SQL: pid: 16979 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16979 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16979 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16979 sql: commit
LOG_SQL: pid: 16979 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16979 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16979 result: SQL_ERROR
running: test_chl rename 12102 12345 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar1=12102
LOG_SQL: pid: 16981 sql: bindVar2=rods
LOG_SQL: pid: 16981 sql: bindVar3=tempZone
LOG_SQL: pid: 16981 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar1=12345
LOG_SQL: pid: 16981 sql: bindVar2=12101
LOG_SQL: pid: 16981 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar1=12101
LOG_SQL: pid: 16981 sql: bindVar2=/12345
LOG_SQL: pid: 16981 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 16981 sql: begin
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar[1]=12345
LOG_SQL: pid: 16981 sql: bindVar[2]=12102
LOG_SQL: pid: 16981 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16981 sql: bindVar[2]=12101
LOG_SQL: pid: 16981 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16981 sql: SQLPrepare
LOG_SQL: pid: 16981 sql: bindVar[1]=12102
LOG_SQL: pid: 16981 sql: bindVar[2]=rods
LOG_SQL: pid: 16981 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16981 sql: bindVar[4]=2130
LOG_SQL: pid: 16981 sql: bindVar[5]=12345
LOG_SQL: pid: 16981 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16981 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16981 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16981 sql: commit
LOG_SQL: pid: 16981 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16981 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16981 result: SQL_ERROR
running: test_chl rename 12102 12ab 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar1=12102
LOG_SQL: pid: 16983 sql: bindVar2=rods
LOG_SQL: pid: 16983 sql: bindVar3=tempZone
LOG_SQL: pid: 16983 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar1=12ab
LOG_SQL: pid: 16983 sql: bindVar2=12101
LOG_SQL: pid: 16983 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar1=12101
LOG_SQL: pid: 16983 sql: bindVar2=/12ab
LOG_SQL: pid: 16983 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 16983 sql: begin
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar[1]=12ab
LOG_SQL: pid: 16983 sql: bindVar[2]=12102
LOG_SQL: pid: 16983 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16983 sql: bindVar[2]=12101
LOG_SQL: pid: 16983 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16983 sql: SQLPrepare
LOG_SQL: pid: 16983 sql: bindVar[1]=12102
LOG_SQL: pid: 16983 sql: bindVar[2]=rods
LOG_SQL: pid: 16983 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16983 sql: bindVar[4]=2130
LOG_SQL: pid: 16983 sql: bindVar[5]=12ab
LOG_SQL: pid: 16983 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16983 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16983 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16983 sql: commit
LOG_SQL: pid: 16983 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16983 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16983 result: SQL_ERROR
running: test_chl rename 12102 12abc 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar1=12102
LOG_SQL: pid: 16985 sql: bindVar2=rods
LOG_SQL: pid: 16985 sql: bindVar3=tempZone
LOG_SQL: pid: 16985 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar1=12abc
LOG_SQL: pid: 16985 sql: bindVar2=12101
LOG_SQL: pid: 16985 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar1=12101
LOG_SQL: pid: 16985 sql: bindVar2=/12abc
LOG_SQL: pid: 16985 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 16985 sql: begin
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar[1]=12abc
LOG_SQL: pid: 16985 sql: bindVar[2]=12102
LOG_SQL: pid: 16985 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16985 sql: bindVar[2]=12101
LOG_SQL: pid: 16985 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16985 sql: SQLPrepare
LOG_SQL: pid: 16985 sql: bindVar[1]=12102
LOG_SQL: pid: 16985 sql: bindVar[2]=rods
LOG_SQL: pid: 16985 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16985 sql: bindVar[4]=2130
LOG_SQL: pid: 16985 sql: bindVar[5]=12abc
LOG_SQL: pid: 16985 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16985 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16985 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16985 sql: commit
LOG_SQL: pid: 16985 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16985 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16985 result: SQL_ERROR
running: test_chl rename 12102 foo1234 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar1=12102
LOG_SQL: pid: 16987 sql: bindVar2=rods
LOG_SQL: pid: 16987 sql: bindVar3=tempZone
LOG_SQL: pid: 16987 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar1=foo1234
LOG_SQL: pid: 16987 sql: bindVar2=12101
LOG_SQL: pid: 16987 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar1=12101
LOG_SQL: pid: 16987 sql: bindVar2=/foo1234
LOG_SQL: pid: 16987 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 16987 sql: begin
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar[1]=foo1234
LOG_SQL: pid: 16987 sql: bindVar[2]=12102
LOG_SQL: pid: 16987 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16987 sql: bindVar[2]=12101
LOG_SQL: pid: 16987 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16987 sql: SQLPrepare
LOG_SQL: pid: 16987 sql: bindVar[1]=12102
LOG_SQL: pid: 16987 sql: bindVar[2]=rods
LOG_SQL: pid: 16987 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16987 sql: bindVar[4]=2130
LOG_SQL: pid: 16987 sql: bindVar[5]=foo1234
LOG_SQL: pid: 16987 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16987 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16987 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16987 sql: commit
LOG_SQL: pid: 16987 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 16987 sql: select currval('R_ObjectID')
LOG_SQL: pid: 16987 result: SQL_ERROR
running: test_chl move 12102 10008  
LOG_SQL: chlOpen
LOG_SQL: chlMoveObject
LOG_SQL: chlMoveObject SQL 1 
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar1=10008
LOG_SQL: pid: 16989 sql: bindVar2=rods
LOG_SQL: pid: 16989 sql: bindVar3=tempZone
LOG_SQL: pid: 16989 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlMoveObject SQL 3
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar1=12102
LOG_SQL: pid: 16989 sql: bindVar2=rods
LOG_SQL: pid: 16989 sql: bindVar3=tempZone
LOG_SQL: pid: 16989 sql: select data_name from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlMoveObject SQL 4
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar1=foo1234
LOG_SQL: pid: 16989 sql: bindVar2=10008
LOG_SQL: pid: 16989 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlMoveObject SQL 5
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar1=10008
LOG_SQL: pid: 16989 sql: bindVar2=/foo1234
LOG_SQL: pid: 16989 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlMoveObject SQL 6
LOG_SQL: pid: 16989 sql: begin
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar[1]=10008
LOG_SQL: pid: 16989 sql: bindVar[2]=12102
LOG_SQL: pid: 16989 sql: update R_DATA_MAIN set coll_id=? where data_id=?
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlMoveObject SQL 7
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar[1]=01326310449
LOG_SQL: pid: 16989 sql: bindVar[2]=10008
LOG_SQL: pid: 16989 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 16989 sql: SQLPrepare
LOG_SQL: pid: 16989 sql: bindVar[1]=12102
LOG_SQL: pid: 16989 sql: bindVar[2]=rods
LOG_SQL: pid: 16989 sql: bindVar[3]=tempZone
LOG_SQL: pid: 16989 sql: bindVar[4]=2140
LOG_SQL: pid: 16989 sql: bindVar[5]=10008
LOG_SQL: pid: 16989 sql: bindVar[6]=01326310449
LOG_SQL: pid: 16989 sql: bindVar[7]=01326310449
LOG_SQL: pid: 16989 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 16989 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 16989 sql: commit
LOG_SQL: pid: 16989 result: SUCCESS
running: test_chl move 12102 2000001 
LOG_SQL: chlOpen
LOG_SQL: chlMoveObject
LOG_SQL: chlMoveObject SQL 1 
LOG_SQL: pid: 16991 sql: SQLPrepare
LOG_SQL: pid: 16991 sql: bindVar1=2000001
LOG_SQL: pid: 16991 sql: bindVar2=rods
LOG_SQL: pid: 16991 sql: bindVar3=tempZone
LOG_SQL: pid: 16991 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 16991 result: SUCCESS
LOG_SQL: chlMoveObject SQL 2
LOG_SQL: pid: 16991 sql: SQLPrepare
LOG_SQL: pid: 16991 sql: bindVar1=2000001
LOG_SQL: pid: 16991 sql: select coll_id from R_COLL_MAIN where coll_id=?
LOG_SQL: pid: 16991 result: SUCCESS
ERROR: move failed with error -814000 CAT_UNKNOWN_COLLECTION 
running: ils 
res:/tempZone/home/rods:
  foo1234
  C- /tempZone/home/rods/d1
  C- /tempZone/home/rods/t2
running: iget foo1234 foo1234b 
running: diff foo1234 foo1234b 
running: test_chl rename 12102 foo_abcdefg 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar1=12102
LOG_SQL: pid: 17000 sql: bindVar2=rods
LOG_SQL: pid: 17000 sql: bindVar3=tempZone
LOG_SQL: pid: 17000 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlRenameObject SQL 2
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar1=foo_abcdefg
LOG_SQL: pid: 17000 sql: bindVar2=10008
LOG_SQL: pid: 17000 sql: select data_id from R_DATA_MAIN where data_name=? and coll_id=?
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlRenameObject SQL 3
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar1=10008
LOG_SQL: pid: 17000 sql: bindVar2=/foo_abcdefg
LOG_SQL: pid: 17000 sql: select coll_id from R_COLL_MAIN where coll_name = ( select coll_name from R_COLL_MAIN where coll_id=? ) || ?
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlRenameObject SQL 4
LOG_SQL: pid: 17000 sql: begin
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar[1]=foo_abcdefg
LOG_SQL: pid: 17000 sql: bindVar[2]=12102
LOG_SQL: pid: 17000 sql: update R_DATA_MAIN set data_name = ? where data_id=?
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlRenameObject SQL 5
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar[1]=01326310449
LOG_SQL: pid: 17000 sql: bindVar[2]=10008
LOG_SQL: pid: 17000 sql: update R_COLL_MAIN set modify_ts=? where coll_id=?
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: cmlAudit3 SQL 2 
LOG_SQL: pid: 17000 sql: SQLPrepare
LOG_SQL: pid: 17000 sql: bindVar[1]=12102
LOG_SQL: pid: 17000 sql: bindVar[2]=rods
LOG_SQL: pid: 17000 sql: bindVar[3]=tempZone
LOG_SQL: pid: 17000 sql: bindVar[4]=2130
LOG_SQL: pid: 17000 sql: bindVar[5]=foo_abcdefg
LOG_SQL: pid: 17000 sql: bindVar[6]=01326310449
LOG_SQL: pid: 17000 sql: bindVar[7]=01326310449
LOG_SQL: pid: 17000 sql: insert into R_OBJT_AUDIT (object_id, user_id, action_id, r_comment, create_ts, modify_ts) values (?, (select user_id from R_USER_MAIN where user_name=? and zone_name=?), ?, ?, ?, ?)
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlCommit - SQL 1 
LOG_SQL: pid: 17000 sql: commit
LOG_SQL: pid: 17000 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 17000 sql: select currval('R_ObjectID')
LOG_SQL: pid: 17000 result: SQL_ERROR
running: iget foo_abcdefg foo1234b 
running: diff foo1234 foo1234b 
running: irm -f foo_abcdefg 
running: irm -fr d1 
running: irm -fr t2 
running: test_chl rename 12100  d234 
LOG_SQL: chlOpen
LOG_SQL: chlRenameObject
LOG_SQL: chlRenameObject SQL 1 
LOG_SQL: pid: 17015 sql: SQLPrepare
LOG_SQL: pid: 17015 sql: bindVar1=12100
LOG_SQL: pid: 17015 sql: bindVar2=rods
LOG_SQL: pid: 17015 sql: bindVar3=tempZone
LOG_SQL: pid: 17015 sql: select coll_id from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17015 result: SUCCESS
LOG_SQL: chlRenameObject SQL 6
LOG_SQL: pid: 17015 sql: SQLPrepare
LOG_SQL: pid: 17015 sql: bindVar1=12100
LOG_SQL: pid: 17015 sql: bindVar2=rods
LOG_SQL: pid: 17015 sql: bindVar3=tempZone
LOG_SQL: pid: 17015 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17015 result: SUCCESS
LOG_SQL: chlRenameObject SQL 12
LOG_SQL: pid: 17015 sql: SQLPrepare
LOG_SQL: pid: 17015 sql: bindVar1=12100
LOG_SQL: pid: 17015 sql: select coll_id from R_DATA_MAIN where data_id=?
LOG_SQL: pid: 17015 result: SUCCESS
LOG_SQL: chlRenameObject SQL 12
LOG_SQL: pid: 17015 sql: SQLPrepare
LOG_SQL: pid: 17015 sql: bindVar1=12100
LOG_SQL: pid: 17015 sql: select coll_id from R_COLL_MAIN where coll_id=?
LOG_SQL: pid: 17015 result: SUCCESS
LOG_SQL: chlGetRcs
LOG_SQL: cmlGetCurrentSeqVal SQL 1 
LOG_SQL: pid: 17015 sql: select currval('R_ObjectID')
LOG_SQL: pid: 17015 result: SQL_ERROR
ERROR: rename failed with error -836000 CAT_NOT_A_DATAOBJ_AND_NOT_A_COLLECTION 
running: test_chl move 12100  10008  
LOG_SQL: chlOpen
LOG_SQL: chlMoveObject
LOG_SQL: chlMoveObject SQL 1 
LOG_SQL: pid: 17017 sql: SQLPrepare
LOG_SQL: pid: 17017 sql: bindVar1=10008
LOG_SQL: pid: 17017 sql: bindVar2=rods
LOG_SQL: pid: 17017 sql: bindVar3=tempZone
LOG_SQL: pid: 17017 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17017 result: SUCCESS
LOG_SQL: chlMoveObject SQL 3
LOG_SQL: pid: 17017 sql: SQLPrepare
LOG_SQL: pid: 17017 sql: bindVar1=12100
LOG_SQL: pid: 17017 sql: bindVar2=rods
LOG_SQL: pid: 17017 sql: bindVar3=tempZone
LOG_SQL: pid: 17017 sql: select data_name from R_DATA_MAIN DM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where DM.data_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = DM.data_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17017 result: SUCCESS
LOG_SQL: chlMoveObject SQL 8
LOG_SQL: pid: 17017 sql: SQLPrepare
LOG_SQL: pid: 17017 sql: bindVar1=12100
LOG_SQL: pid: 17017 sql: bindVar2=rods
LOG_SQL: pid: 17017 sql: bindVar3=tempZone
LOG_SQL: pid: 17017 sql: select parent_coll_name, coll_name from R_COLL_MAIN CM, R_OBJT_ACCESS OA, R_USER_GROUP UG, R_USER_MAIN UM, R_TOKN_MAIN TM where CM.coll_id=? and UM.user_name=? and UM.zone_name=? and UM.user_type_name!='rodsgroup' and UM.user_id = UG.user_id and OA.object_id = CM.coll_id and UG.group_user_id = OA.user_id and OA.access_type_id >= TM.token_id and TM.token_namespace ='access_type' and TM.token_name = 'own'
LOG_SQL: pid: 17017 result: SUCCESS
LOG_SQL: chlMoveObject SQL 13
LOG_SQL: pid: 17017 sql: SQLPrepare
LOG_SQL: pid: 17017 sql: bindVar1=12100
LOG_SQL: pid: 17017 sql: select coll_id from R_DATA_MAIN where data_id=?
LOG_SQL: pid: 17017 result: SUCCESS
LOG_SQL: chlMoveObject SQL 14
LOG_SQL: pid: 17017 sql: SQLPrepare
LOG_SQL: pid: 17017 sql: bindVar1=12100
LOG_SQL: pid: 17017 sql: select coll_id from R_COLL_MAIN where coll_id=?
LOG_SQL: pid: 17017 result: SUCCESS
ERROR: move failed with error -836000 CAT_NOT_A_DATAOBJ_AND_NOT_A_COLLECTION 
running: imkdir xdira 
running: icd xdira 
running: imkdir dir1 
running: imkdir dir2 
running: imkdir dir1/dir1a 
running: imkdir dir2/dir2a 
running: icd .. 
running: irm -r xdira 
running: irmtrash 
Success 
